{% extends "task_base.html" %}

{% block body %}
<div id="token-graph-input-{{task.id}}">
    <form id="token-graph-form-{{task.id}}">
        <div id="token-graph-input-container-{{task.id}}"></div>
    </form>
</div>
<!-- Sample Elements (Hidden) -->
<div id="sample-token-graph-input-container-{{task.id}}" hidden="true">
    <div id="sample-token-graph-input-{{task.id}}" class="card border-secondary mb-1">
        <div class="card-header lead bg-white border-bottom-0">
            <div class="row">
                <span class="col-sm boundary-token-graph-header"></span>
                <div class="col-sm-2">
                    <button type="button" title="Add Relation" class="btn btn-sm btn-success float-right add-triplet-button">
                        <i class="fas fa-plus"></i>
                    </button>
                    <button type="button" title="Show Graph" class="btn btn-sm btn-info mx-1 float-right show-graph-modal-button" data-task-id="{{task.id}}" data-task-category="{{task.category}}" data-toggle="modal" data-target="#show-graph-modal">
                        <i class="fa-solid fa-diagram-project"></i>
                    </button>
                </div>
            </div>
        </div>
        <div class="card-body token-graph-input"></div>
    </div>
    <select id="sample-token-graph-source-entity-{{task.id}}" title="Source {}" class="form-control" data-width="false" data-live-search="true" required></select>
    <select id="sample-token-graph-relation-label-{{task.id}}" title="Relation Label {}" class="form-control" data-width="false" data-live-search="true" required>
        {% for _id, _task_id, _label, _description in context_labels.token_relation_labels %}
        {% if _task_id == task.id %}
        <option value="{{_id}}" data-subtext="{{_description}}" data-content='<span class="btn-sm">{{_description}}</span>'></option>
        {% endif %}
        {% endfor %}
    </select>
    <select id="sample-token-graph-target-entity-{{task.id}}" title="Target {}" class="form-control" data-width="false" data-live-search="true" required></select>
</div>

{% endblock %}